<link rel="import" href="/bower_components/polymer/polymer.html">

<!-- Example: <template-element attr-a="not foo"><template-element> -->

<dom-module name="htwg-news" attributes="headline">
	<style>
		.container {
			padding-left: 4px;
			padding-top: 4px;
			padding-bottom: 5px;
		}
		#content {
			font-size: 14pt;
			line-height: 20pt;
			word-wrap: break-word;
			-ms-hyphens: auto;
			-moz-hyphens: auto;
			-webkit-hyphens: auto;
			hyphens: auto;
			text-align: justify;
		}
		h1 {
			margin-bottom: 8px;
			margin-top: 0;
		}
	</style>

	<template>
		<div class="container">
			<h1>
				{{headline}}
			</h1>
			<div id="content">
				<content></content>
			</div>
		</div>
	</template>

	<script>
		Polymer({
			is: "htwg-news",
			listeners: {
			},
			properties: {
				headline: {
					type: String,
					value: 'No headline given'
				}
			},
			ready: function() {
				text = this.getEffectiveChildNodes()[0].textContent;
				
				text = text.replace(/\n\t*/g, "");
				if (text.length > 270) {
					text = text.substr(0, text.lastIndexOf(" ", 270));
					text += " [...]";
				}
				
				this.getEffectiveChildNodes()[0].textContent = text;
			}
		});
	</script>
</dom-module>